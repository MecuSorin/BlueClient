/*
 * angular-ui-bootstrap
 * http://angular-ui.github.io/bootstrap/

 * Version: 0.12.1 - 2015-02-20
 * License: MIT
 */
angular.module("ui.bootstrap",["ui.bootstrap.timepicker","ui.bootstrap.buttons"]),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(e,n,t,i,r,a){function u(){var n=parseInt(e.hours,10),t=e.showMeridian?n>0&&13>n:n>=0&&24>n;return t?(e.showMeridian&&(12===n&&(n=0),e.meridian===m[1]&&(n+=12)),n):void 0}function o(){var n=parseInt(e.minutes,10);return n>=0&&60>n?n:void 0}function l(e){return angular.isDefined(e)&&e.toString().length<2?"0"+e:e}function s(e){c(),v.$setViewValue(new Date(f)),d(e)}function c(){v.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1}function d(n){var t=f.getHours(),i=f.getMinutes();e.showMeridian&&(t=0===t||12===t?12:t%12),e.hours="h"===n?t:l(t),e.minutes="m"===n?i:l(i),e.meridian=f.getHours()<12?m[0]:m[1]}function p(e){var n=new Date(f.getTime()+6e4*e);f.setHours(n.getHours(),n.getMinutes()),s()}var f=new Date,v={$setViewValue:angular.noop},m=angular.isDefined(n.meridians)?e.$parent.$eval(n.meridians):a.meridians||r.DATETIME_FORMATS.AMPMS;this.init=function(t,i){v=t,v.$render=this.render;var r=i.eq(0),u=i.eq(1),o=angular.isDefined(n.mousewheel)?e.$parent.$eval(n.mousewheel):a.mousewheel;o&&this.setupMousewheelEvents(r,u),e.readonlyInput=angular.isDefined(n.readonlyInput)?e.$parent.$eval(n.readonlyInput):a.readonlyInput,this.setupInputEvents(r,u)};var g=a.hourStep;n.hourStep&&e.$parent.$watch(t(n.hourStep),function(e){g=parseInt(e,10)});var h=a.minuteStep;n.minuteStep&&e.$parent.$watch(t(n.minuteStep),function(e){h=parseInt(e,10)}),e.showMeridian=a.showMeridian,n.showMeridian&&e.$parent.$watch(t(n.showMeridian),function(n){if(e.showMeridian=!!n,v.$error.time){var t=u(),i=o();angular.isDefined(t)&&angular.isDefined(i)&&(f.setHours(t),s())}else d()}),this.setupMousewheelEvents=function(n,t){var i=function(e){e.originalEvent&&(e=e.originalEvent);var n=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||n>0};n.bind("mousewheel wheel",function(n){e.$apply(i(n)?e.incrementHours():e.decrementHours()),n.preventDefault()}),t.bind("mousewheel wheel",function(n){e.$apply(i(n)?e.incrementMinutes():e.decrementMinutes()),n.preventDefault()})},this.setupInputEvents=function(n,t){if(e.readonlyInput)return e.updateHours=angular.noop,void(e.updateMinutes=angular.noop);var i=function(n,t){v.$setViewValue(null),v.$setValidity("time",!1),angular.isDefined(n)&&(e.invalidHours=n),angular.isDefined(t)&&(e.invalidMinutes=t)};e.updateHours=function(){var e=u();angular.isDefined(e)?(f.setHours(e),s("h")):i(!0)},n.bind("blur",function(){!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=l(e.hours)})}),e.updateMinutes=function(){var e=o();angular.isDefined(e)?(f.setMinutes(e),s("m")):i(void 0,!0)},t.bind("blur",function(){!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=l(e.minutes)})})},this.render=function(){var e=v.$modelValue?new Date(v.$modelValue):null;isNaN(e)?(v.$setValidity("time",!1),i.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(e&&(f=e),c(),d())},e.incrementHours=function(){p(60*g)},e.decrementHours=function(){p(60*-g)},e.incrementMinutes=function(){p(h)},e.decrementMinutes=function(){p(-h)},e.toggleMeridian=function(){p(720*(f.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(e,n,t,i){var r=i[0],a=i[1];a&&r.init(a,n.find("input"))}}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(e,n,t,i){var r=i[0],a=i[1];a.$render=function(){n.toggleClass(r.activeClass,angular.equals(a.$modelValue,e.$eval(t.btnRadio)))},n.bind(r.toggleEvent,function(){var i=n.hasClass(r.activeClass);(!i||angular.isDefined(t.uncheckable))&&e.$apply(function(){a.$setViewValue(i?null:e.$eval(t.btnRadio)),a.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(e,n,t,i){function r(){return u(t.btnCheckboxTrue,!0)}function a(){return u(t.btnCheckboxFalse,!1)}function u(n,t){var i=e.$eval(n);return angular.isDefined(i)?i:t}var o=i[0],l=i[1];l.$render=function(){n.toggleClass(o.activeClass,angular.equals(l.$modelValue,r()))},n.bind(o.toggleEvent,function(){e.$apply(function(){l.$setViewValue(n.hasClass(o.activeClass)?a():r()),l.$render()})})}}});